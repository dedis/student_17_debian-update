package debianupdate

import (
	"github.com/dedis/cothority/log"
	"github.com/stretchr/testify/require"

	"testing"
)

func TestNewRepository(t *testing.T) {
	require := require.New(t)

	releaseFile := "Release"
	packagesFile := "Packages_smaller.gz" // "Packages.gz" // uncomment for the big file
	sourceUrl := "http://mirror.switch.ch/ftp/mirror/debian/dists/stable/main/binary-amd64/"

	repo, err := NewRepository(releaseFile, packagesFile, sourceUrl)
	log.ErrFatal(err)
	require.NotNil(repo)
	require.Equal("Debian", repo.Origin)
	require.Equal("stable", repo.Suite)
	require.Equal(sourceUrl, repo.SourceUrl)

}
